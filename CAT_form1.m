
% This is the prototype template that is filled out by fillOutForm

kitty = CAT; 
%--------------------------------------------------------------------------
%% SIMULATION SETTINGS
% Solution Time
% FIELD:    sol_time
% STATUS:   REQUIRED
% UNITS:    [s]
% CLASS:    VECTOR
% INPUTS:   -
% EXP.:     [0 60*60], [0:5*60:60]
% COMMENT:  When length(sol_time)>2, the result will only be given at the
%           times indicated in sol_time.
kitty.sol_time = [0 3600];

% Solution Method
% FIELD:    sol_method
% STATUS:   OPTIONAL
% UNITS:    -
% CLASS:    STRING
% INPUTS:   -
% EXP.:     'hires', 'movingpivot', 'centraldifference'
% COMMENT:  Default solution method is centraldifference.
kitty.sol_method = 'movingpivot';

%--------------------------------------------------------------------------
%% THERMODYNAMICS & KINETICS
% Solubility 
% FIELD:    solubility
% STATUS:   REQUIRED
% UNITS:    [g/g]
% CLASS:    FUNCTION_HANDLE
% INPUTS:   1. Temperature [°C],  2.(optional) Mass fraction antisolvent [-])
% EXP.:     @(T,xm) 1e-4*(1-xm)+(0.0056*(T).^2+0.0436.*(T)+3.7646)/1000
% COMMENT:  -
kitty.solubility = @(T)(0.0056*(T-273).^2+0.0436.*(T-273)+3.7646)/1000;

% Growth Rate 
% FIELD:    growthrate
% STATUS:   REQUIRED
% UNITS:    [micron/s]
% CLASS:    FUNCTION_HANDLE
% INPUTS:   1. Supersaturation [-], 2. (optional) Temperature [°C], 3. (optional) Particle Length [micron]
% EXP.:     @(S,T,y) (S>1)*4e-1*(S-1)*ones(size(y))
% COMMENT:  -
kitty.growthrate = @(S,T,y)(S>1)*4e-1*(S-1)*ones(size(y));

% Nucleation
% Growth Rate 
% FIELD:    nucleationrate
% STATUS:   OPTIONAL
% UNITS:    [#/(g s)]
% CLASS:    FUNCTION_HANDLE
% INPUTS:   1. Supersaturation [-], 2. Temperature [°C], 3. (optional) Distribution
% EXP.:     @(S,T,F) exp(-100/log(S)/T)*moments(F,3)/moments(PD.init_dist,3)
% COMMENT:  -
kitty.nucleationrate = [];

%--------------------------------------------------------------------------
%% OPERATING CONDITIONS
% Seed mass
% FIELD:    init_seed
% STATUS:   OPTIONAL
% UNITS:    [g]
% CLASS:    SCALAR
% INPUTS:   -
% EXP.:     1
% COMMENT:  -
kitty.init_seed = 0.5;

% Initial Concentration 
% FIELD:    init_conc
% STATUS:   REQUIRED
% UNITS:    [g/g]
% CLASS:    SCALAR, STRING
% INPUTS:   -
% EXP.:     7e-3, 'sat'
% COMMENT:  -
kitty.init_conc = 0.007;

% Initial Seed Distribution
% FIELD:    init_dist
% STATUS:   REQUIRED
% UNITS:    []
% CLASS:    DISTRIBUTION (see Class Distribution on how to construct distributions)
% INPUTS:   -
% EXP.:     Distribution(linspace(1,500),{'normal',50,20})
% COMMENT:  -
kitty.init_dist = Distribution([0 5.05050505050505 10.1010101010101 15.1515151515152 20.2020202020202 25.2525252525253 30.3030303030303 35.3535353535354 40.4040404040404 45.4545454545455 50.5050505050505 55.5555555555556 60.6060606060606 65.6565656565657 70.7070707070707 75.7575757575758 80.8080808080808 85.8585858585859 90.9090909090909 95.959595959596 101.010101010101 106.060606060606 111.111111111111 116.161616161616 121.212121212121 126.262626262626 131.313131313131 136.363636363636 141.414141414141 146.464646464646 151.515151515152 156.565656565657 161.616161616162 166.666666666667 171.717171717172 176.767676767677 181.818181818182 186.868686868687 191.919191919192 196.969696969697 202.020202020202 207.070707070707 212.121212121212 217.171717171717 222.222222222222 227.272727272727 232.323232323232 237.373737373737 242.424242424242 247.474747474747 252.525252525253 257.575757575758 262.626262626263 267.676767676768 272.727272727273 277.777777777778 282.828282828283 287.878787878788 292.929292929293 297.979797979798 303.030303030303 308.080808080808 313.131313131313 318.181818181818 323.232323232323 328.282828282828 333.333333333333 338.383838383838 343.434343434343 348.484848484849 353.535353535354 358.585858585859 363.636363636364 368.686868686869 373.737373737374 378.787878787879 383.838383838384 388.888888888889 393.939393939394 398.989898989899 404.040404040404 409.090909090909 414.141414141414 419.191919191919 424.242424242424 429.292929292929 434.343434343434 439.393939393939 444.444444444444 449.494949494949 454.545454545455 459.59595959596 464.646464646465 469.69696969697 474.747474747475 479.79797979798 484.848484848485 489.89898989899 494.949494949495 500],... 
@(x)1/(30*sqrt(2*pi))*exp(-((x-100).^2/(2*30^2))),... 
[0 2.52525252525253 7.57575757575758 12.6262626262626 17.6767676767677 22.7272727272727 27.7777777777778 32.8282828282828 37.8787878787879 42.9292929292929 47.979797979798 53.030303030303 58.0808080808081 63.1313131313131 68.1818181818182 73.2323232323232 78.2828282828283 83.3333333333333 88.3838383838384 93.4343434343434 98.4848484848485 103.535353535354 108.585858585859 113.636363636364 118.686868686869 123.737373737374 128.787878787879 133.838383838384 138.888888888889 143.939393939394 148.989898989899 154.040404040404 159.090909090909 164.141414141414 169.191919191919 174.242424242424 179.292929292929 184.343434343434 189.393939393939 194.444444444444 199.494949494949 204.545454545455 209.59595959596 214.646464646465 219.69696969697 224.747474747475 229.79797979798 234.848484848485 239.89898989899 244.949494949495 250 255.050505050505 260.10101010101 265.151515151515 270.20202020202 275.252525252525 280.30303030303 285.353535353535 290.40404040404 295.454545454546 300.50505050505 305.555555555556 310.606060606061 315.656565656566 320.707070707071 325.757575757576 330.808080808081 335.858585858586 340.909090909091 345.959595959596 351.010101010101 356.060606060606 361.111111111111 366.161616161616 371.212121212121 376.262626262626 381.313131313131 386.363636363636 391.414141414141 396.464646464646 401.515151515152 406.565656565657 411.616161616162 416.666666666667 421.717171717172 426.767676767677 431.818181818182 436.868686868687 441.919191919192 446.969696969697 452.020202020202 457.070707070707 462.121212121212 467.171717171717 472.222222222222 477.272727272727 482.323232323232 487.373737373737 492.424242424242 497.474747474747 502.525252525253]);

% Total initial mass of Solvent + Antisolvent
% FIELD:    massmedium
% STATUS:   REQUIRED
% UNITS:    [g]
% CLASS:    SCALAR
% INPUTS:   -
% EXP.:     2000
% COMMENT:  -
kitty.init_massmedium = 2000; 

% Temperature Profile 
% FIELD:    Tprofile
% STATUS:   OPTIONAL
% UNITS:    [°C]
% CLASS:    SCALAR, MATRIX, FUNCTION_HANDLE
% INPUTS:   1. Time [s]
% EXP.:     25, [0 5*60 10*60 60*60; 25 25 23 20], @(t) (33-31)/3600*t+33
% COMMENT:  When using function handles with non-smooth functions make sure
%           that nodes are in the solution time vector (sol_time)!
kitty.Tprofile = [0 300 600 3600;290 285 285 280];

% Antisolvent Mass Profile 
% FIELD:    ASprofile
% STATUS:   OPTIONAL
% UNITS:    [g]
% CLASS:    MATRIX, FUNCTION_HANDLE
% INPUTS:   1. Time [s]
% EXP.:     [0 5*60 10*60 60*60; 25 25 23 20], @(t) (33-31)/3600*t+33
% COMMENT:  The Mass Profile should be monotonically increasing!
%           When using function handles with non-smooth functions make sure
%           that nodes are in the solution time vector (sol_time)! 
kitty.ASprofile = [0 300 600 3600;0 50 200 200];



% SOLVE
kitty.solve;

%% PLOT (optional)
kitty.plot;
 
 % This file was generated for you by the fillOutForm function.